<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>avr-kernel: Kernel Interface</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">avr-kernel
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('dc/db7/group__kernel__interface.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Kernel Interface</div>  </div>
</div><!--header-->
<div class="contents">

<p>Contains the public interface of the kernel.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga14468a966905fc254caa971cd60c4039"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/db7/group__kernel__interface.html#ga14468a966905fc254caa971cd60c4039">kn_assert</a>(expr)</td></tr>
<tr class="separator:ga14468a966905fc254caa971cd60c4039"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga21d62fdf6889411bc5d9d848e84479a3"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/db7/group__kernel__interface.html#ga21d62fdf6889411bc5d9d848e84479a3">thread_ptr</a> )(const <a class="el" href="../../dc/db7/group__kernel__interface.html#ga53f8f420531828f6ea7ed91ea6b2fa97">thread_id</a> my_id, void *arg)</td></tr>
<tr class="separator:ga21d62fdf6889411bc5d9d848e84479a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga53f8f420531828f6ea7ed91ea6b2fa97"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/db7/group__kernel__interface.html#ga53f8f420531828f6ea7ed91ea6b2fa97">thread_id</a> { <br />
&#160;&#160;<b>THREAD0</b>, 
<b>THREAD1</b>, 
<b>THREAD2</b>, 
<b>THREAD3</b>, 
<br />
&#160;&#160;<b>THREAD4</b>, 
<b>THREAD5</b>, 
<b>THREAD6</b>, 
<b>THREAD7</b>
<br />
 }</td></tr>
<tr class="separator:ga53f8f420531828f6ea7ed91ea6b2fa97"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga8eaa4ca4aeefdcb5e1e4d610012ae97a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/db7/group__kernel__interface.html#ga8eaa4ca4aeefdcb5e1e4d610012ae97a">kn_create_thread</a> (const <a class="el" href="../../dc/db7/group__kernel__interface.html#ga53f8f420531828f6ea7ed91ea6b2fa97">thread_id</a> t_id, <a class="el" href="../../dc/db7/group__kernel__interface.html#ga21d62fdf6889411bc5d9d848e84479a3">thread_ptr</a> entry_point, const bool suspended, void *arg)</td></tr>
<tr class="separator:ga8eaa4ca4aeefdcb5e1e4d610012ae97a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga290d4415fabdc5cca4b919152cd6db40"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/db7/group__kernel__interface.html#ga290d4415fabdc5cca4b919152cd6db40">kn_replace_self</a> (<a class="el" href="../../dc/db7/group__kernel__interface.html#ga21d62fdf6889411bc5d9d848e84479a3">thread_ptr</a> entry_point, const bool suspended, void *arg)</td></tr>
<tr class="separator:ga290d4415fabdc5cca4b919152cd6db40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5f31e54e935276d39449415de6d8900e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/db7/group__kernel__interface.html#ga5f31e54e935276d39449415de6d8900e">kn_yield</a> ()</td></tr>
<tr class="separator:ga5f31e54e935276d39449415de6d8900e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga19cfee4ebc5034e03a232fdad3d55736"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/db7/group__kernel__interface.html#ga19cfee4ebc5034e03a232fdad3d55736">kn_sleep</a> (const uint16_t millis)</td></tr>
<tr class="separator:ga19cfee4ebc5034e03a232fdad3d55736"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5a904aeba36b3882eae1dc3489963f8a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/db7/group__kernel__interface.html#ga5a904aeba36b3882eae1dc3489963f8a">kn_sleep_long</a> (uint32_t millis)</td></tr>
<tr class="separator:ga5a904aeba36b3882eae1dc3489963f8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeeb599f21d12ef600089c4b976765fd7"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/db7/group__kernel__interface.html#gaeeb599f21d12ef600089c4b976765fd7">kn_millis</a> ()</td></tr>
<tr class="separator:gaeeb599f21d12ef600089c4b976765fd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga43578b0e74b0b22d2c892acf91a590af"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dc/db7/group__kernel__interface.html#ga53f8f420531828f6ea7ed91ea6b2fa97">thread_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/db7/group__kernel__interface.html#ga43578b0e74b0b22d2c892acf91a590af">kn_current_thread</a> ()</td></tr>
<tr class="separator:ga43578b0e74b0b22d2c892acf91a590af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafc13a8fbe2068cc1d65d3656a4c8b2d5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/db7/group__kernel__interface.html#gafc13a8fbe2068cc1d65d3656a4c8b2d5">kn_thread_enabled</a> (const <a class="el" href="../../dc/db7/group__kernel__interface.html#ga53f8f420531828f6ea7ed91ea6b2fa97">thread_id</a> t_id)</td></tr>
<tr class="separator:gafc13a8fbe2068cc1d65d3656a4c8b2d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabe3a633c52577a8612362353c572bde7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/db7/group__kernel__interface.html#gabe3a633c52577a8612362353c572bde7">kn_thread_suspended</a> (const <a class="el" href="../../dc/db7/group__kernel__interface.html#ga53f8f420531828f6ea7ed91ea6b2fa97">thread_id</a> t_id)</td></tr>
<tr class="separator:gabe3a633c52577a8612362353c572bde7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5c019f51ff96e031f14b94471045b791"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/db7/group__kernel__interface.html#ga5c019f51ff96e031f14b94471045b791">kn_thread_sleeping</a> (const <a class="el" href="../../dc/db7/group__kernel__interface.html#ga53f8f420531828f6ea7ed91ea6b2fa97">thread_id</a> t_id)</td></tr>
<tr class="separator:ga5c019f51ff96e031f14b94471045b791"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga025e53113a0cc04e0980dd0d114a014a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/db7/group__kernel__interface.html#ga025e53113a0cc04e0980dd0d114a014a">kn_disable</a> (const <a class="el" href="../../dc/db7/group__kernel__interface.html#ga53f8f420531828f6ea7ed91ea6b2fa97">thread_id</a> t_id)</td></tr>
<tr class="separator:ga025e53113a0cc04e0980dd0d114a014a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaacb6c78d913de211d490499cd32a43e9"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/db7/group__kernel__interface.html#gaacb6c78d913de211d490499cd32a43e9">kn_disable_self</a> ()</td></tr>
<tr class="separator:gaacb6c78d913de211d490499cd32a43e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0c1570dbcd4aa239ec05e01cf4c890f0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/db7/group__kernel__interface.html#ga0c1570dbcd4aa239ec05e01cf4c890f0">kn_resume</a> (const <a class="el" href="../../dc/db7/group__kernel__interface.html#ga53f8f420531828f6ea7ed91ea6b2fa97">thread_id</a> t_id)</td></tr>
<tr class="separator:ga0c1570dbcd4aa239ec05e01cf4c890f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga887aaf8e03b09ec2e566d807e8a0a898"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/db7/group__kernel__interface.html#ga887aaf8e03b09ec2e566d807e8a0a898">kn_suspend</a> (const <a class="el" href="../../dc/db7/group__kernel__interface.html#ga53f8f420531828f6ea7ed91ea6b2fa97">thread_id</a> t_id)</td></tr>
<tr class="separator:ga887aaf8e03b09ec2e566d807e8a0a898"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga431eeca3a1ff7e15833bd2a31cea9d3f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/db7/group__kernel__interface.html#ga431eeca3a1ff7e15833bd2a31cea9d3f">kn_suspend_self</a> ()</td></tr>
<tr class="separator:ga431eeca3a1ff7e15833bd2a31cea9d3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9bc169495785af2f011f91237857285d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/db7/group__kernel__interface.html#ga9bc169495785af2f011f91237857285d">kn_stack_overflow</a> (const <a class="el" href="../../dc/db7/group__kernel__interface.html#ga53f8f420531828f6ea7ed91ea6b2fa97">thread_id</a> t_id)</td></tr>
<tr class="separator:ga9bc169495785af2f011f91237857285d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga876fe03d3b4b2c2fdad92930223cb376"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/db7/group__kernel__interface.html#ga876fe03d3b4b2c2fdad92930223cb376">kn_assertion_failure</a> (const char *expr, const char *file, const char *base_file, const int line)</td></tr>
<tr class="separator:ga876fe03d3b4b2c2fdad92930223cb376"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Contains the public interface of the kernel. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ga14468a966905fc254caa971cd60c4039"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kn_assert</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">expr</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>If the given expression evaluates to false, calls <a class="el" href="../../dc/db7/group__kernel__interface.html#ga876fe03d3b4b2c2fdad92930223cb376">kn_assertion_failure</a>. </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ga21d62fdf6889411bc5d9d848e84479a3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* thread_ptr)(const <a class="el" href="../../dc/db7/group__kernel__interface.html#ga53f8f420531828f6ea7ed91ea6b2fa97">thread_id</a> my_id, void *arg)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The function type for threads used by the kernel. To reduce code size and unnecessary stack usage, thread functions should be given the gcc attribute <code>OS_task</code>. While thread functions do not need to worry about saving or restoring any registers, it is not recommended to give them the <code>naked</code> attribute, because the compiler may generate code that assumes the stack has been set up by a function prologue.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">my_id</td><td>The thread id of this thread. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">arg</td><td>A parameter to pass information to the thread.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>Do not allow any thread to return: doing so will break things... </dd></dl>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="ga53f8f420531828f6ea7ed91ea6b2fa97"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../dc/db7/group__kernel__interface.html#ga53f8f420531828f6ea7ed91ea6b2fa97">thread_id</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Defines an explicit type to use for thread id's. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga876fe03d3b4b2c2fdad92930223cb376"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kn_assertion_failure </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>expr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>base_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>line</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A user supplied function that is called when an assertion fails. Used only if <a class="el" href="../../d1/d3f/group__kernel__config.html#ga19d8034ae5c1ff39fb189f691ddada0a">KERNEL_USE_ASSERT</a> is defined.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">expr</td><td>The assertion expression that failed. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">file</td><td>The name of the file where the assertion failed. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">base_file</td><td>The file being compiled when the assertion failed. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">line</td><td>The line number of <code>file</code> where the assertion failed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>This function should call <code>exit</code> or otherwise be prevented from returning. </dd></dl>

</div>
</div>
<a class="anchor" id="ga8eaa4ca4aeefdcb5e1e4d610012ae97a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kn_create_thread </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../dc/db7/group__kernel__interface.html#ga53f8f420531828f6ea7ed91ea6b2fa97">thread_id</a>&#160;</td>
          <td class="paramname"><em>t_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/db7/group__kernel__interface.html#ga21d62fdf6889411bc5d9d848e84479a3">thread_ptr</a>&#160;</td>
          <td class="paramname"><em>entry_point</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>suspended</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates a new thread of operation within the kernel.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">t_id</td><td>The id of the new thread. If the thread id is an enabled thread, that thread will be replaced. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">entry_point</td><td>The function that will be run as the new thread. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">suspended</td><td>The initial state of the new thread. If true, the thread will not run until it is manually resumed. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">arg</td><td>The parameter that will be passed to the function.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>If <code>t_id</code> is the currently active thread, this function does not return. </dd></dl>

</div>
</div>
<a class="anchor" id="ga43578b0e74b0b22d2c892acf91a590af"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../dc/db7/group__kernel__interface.html#ga53f8f420531828f6ea7ed91ea6b2fa97">thread_id</a> kn_current_thread </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the id of the currently running thread. </p>

</div>
</div>
<a class="anchor" id="ga025e53113a0cc04e0980dd0d114a014a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kn_disable </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../dc/db7/group__kernel__interface.html#ga53f8f420531828f6ea7ed91ea6b2fa97">thread_id</a>&#160;</td>
          <td class="paramname"><em>t_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Disables the specified thread. After a thread has been disabled, you must call <a class="el" href="../../dc/db7/group__kernel__interface.html#ga8eaa4ca4aeefdcb5e1e4d610012ae97a">kn_create_thread</a> to restart it or replace it with a new thread. If you wish to "pause" a thread with the ability to resume it at a later time, use <a class="el" href="../../dc/db7/group__kernel__interface.html#ga887aaf8e03b09ec2e566d807e8a0a898">kn_suspend</a>.</p>
<dl class="section warning"><dt>Warning</dt><dd>If t_id is the calling thread, this function does not return. </dd></dl>

</div>
</div>
<a class="anchor" id="gaacb6c78d913de211d490499cd32a43e9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void kn_disable_self </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Disables the calling thread.</p>
<dl class="section warning"><dt>Warning</dt><dd>Does not return. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../dc/db7/group__kernel__interface.html#ga025e53113a0cc04e0980dd0d114a014a">kn_disable</a> </dd></dl>

</div>
</div>
<a class="anchor" id="gaeeb599f21d12ef600089c4b976765fd7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t kn_millis </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the system timer, in milliseconds. This value will overflow after 49 days. </p>

</div>
</div>
<a class="anchor" id="ga290d4415fabdc5cca4b919152cd6db40"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void kn_replace_self </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/db7/group__kernel__interface.html#ga21d62fdf6889411bc5d9d848e84479a3">thread_ptr</a>&#160;</td>
          <td class="paramname"><em>entry_point</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>suspended</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Replaces the calling thread with a new thread. Basically is just a wrapper for the <a class="el" href="../../dc/db7/group__kernel__interface.html#ga8eaa4ca4aeefdcb5e1e4d610012ae97a">kn_create_thread</a> that automatically supplies the id of the calling thread. See <a class="el" href="../../dc/db7/group__kernel__interface.html#ga8eaa4ca4aeefdcb5e1e4d610012ae97a">kn_create_thread</a> for behavior and parameter info.</p>
<dl class="section warning"><dt>Warning</dt><dd>Does not return. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../dc/db7/group__kernel__interface.html#ga8eaa4ca4aeefdcb5e1e4d610012ae97a">kn_create_thread</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga0c1570dbcd4aa239ec05e01cf4c890f0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kn_resume </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../dc/db7/group__kernel__interface.html#ga53f8f420531828f6ea7ed91ea6b2fa97">thread_id</a>&#160;</td>
          <td class="paramname"><em>t_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Resumes the specified thread, so that the scheduler may select it for execution. </p>

</div>
</div>
<a class="anchor" id="ga19cfee4ebc5034e03a232fdad3d55736"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kn_sleep </td>
          <td>(</td>
          <td class="paramtype">const uint16_t&#160;</td>
          <td class="paramname"><em>millis</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allows a thread to sleep for a certain amount of time. For sleep times longer than 65 seconds, use <a class="el" href="../../dc/db7/group__kernel__interface.html#ga5a904aeba36b3882eae1dc3489963f8a">kn_sleep_long</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">millis</td><td>The amount of time in milliseconds to sleep. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga5a904aeba36b3882eae1dc3489963f8a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kn_sleep_long </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>millis</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allows a thread to sleep for longer time periods than <a class="el" href="../../dc/db7/group__kernel__interface.html#ga19cfee4ebc5034e03a232fdad3d55736">kn_sleep</a>. The maximum sleep time is approximately 49 days.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">millis</td><td>The number of milliseconds to sleep. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga9bc169495785af2f011f91237857285d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kn_stack_overflow </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../dc/db7/group__kernel__interface.html#ga53f8f420531828f6ea7ed91ea6b2fa97">thread_id</a>&#160;</td>
          <td class="paramname"><em>t_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A user supplied function that is called when a stack overflow is detected. Used only if <a class="el" href="../../d1/d3f/group__kernel__config.html#ga1a5cecc6feace3071fa6b632c242d446">KERNEL_USE_STACK_CANARY</a> is defined.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">t_id</td><td>The id of the active thread when the stack overflow was detected. This does not necessarily mean that corruption is limited to this thread's stack.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>If you return from this function, the kernel scheduler will attempt to continue, but you do so at your own risk. </dd></dl>

</div>
</div>
<a class="anchor" id="ga887aaf8e03b09ec2e566d807e8a0a898"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kn_suspend </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../dc/db7/group__kernel__interface.html#ga53f8f420531828f6ea7ed91ea6b2fa97">thread_id</a>&#160;</td>
          <td class="paramname"><em>t_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Suspends the specified thread. If t_id is the calling thread, this function yields and will return after the thread has been resumed and selected for execution again. </p>

</div>
</div>
<a class="anchor" id="ga431eeca3a1ff7e15833bd2a31cea9d3f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void kn_suspend_self </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Suspends the calling thread.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../dc/db7/group__kernel__interface.html#ga887aaf8e03b09ec2e566d807e8a0a898">kn_suspend</a> </dd></dl>

</div>
</div>
<a class="anchor" id="gafc13a8fbe2068cc1d65d3656a4c8b2d5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool kn_thread_enabled </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../dc/db7/group__kernel__interface.html#ga53f8f420531828f6ea7ed91ea6b2fa97">thread_id</a>&#160;</td>
          <td class="paramname"><em>t_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns true if the specified thread is currently enabled. This does not necessarily mean that the thread is currently active, as it may be suspended or sleeping. </p>

</div>
</div>
<a class="anchor" id="ga5c019f51ff96e031f14b94471045b791"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool kn_thread_sleeping </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../dc/db7/group__kernel__interface.html#ga53f8f420531828f6ea7ed91ea6b2fa97">thread_id</a>&#160;</td>
          <td class="paramname"><em>t_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns true if the specified thread is enabled, but currently sleeping. </p>

</div>
</div>
<a class="anchor" id="gabe3a633c52577a8612362353c572bde7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool kn_thread_suspended </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../dc/db7/group__kernel__interface.html#ga53f8f420531828f6ea7ed91ea6b2fa97">thread_id</a>&#160;</td>
          <td class="paramname"><em>t_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns true if the specified thread is enabled, but suspended. </p>

</div>
</div>
<a class="anchor" id="ga5f31e54e935276d39449415de6d8900e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kn_yield </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allows a thread to yield execution to the scheduler. Will return when the scheduler selects the calling thread for execution again. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue Jul 15 2014 15:05:08 for avr-kernel by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.7 </li>
  </ul>
</div>
</body>
</html>
